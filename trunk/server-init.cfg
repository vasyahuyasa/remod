// ******************************
// MAIN SERVER CONFIGURATION CONFIG
// ******************************

// DONT FORGET TO EDIT scripts/permissions.cfg !!!
// Set log output to file, if empty write logs to console
//setlogfile "server.log"
setlogfile ""

// Show local time
echo ""
echo "*********************************************"
echo (format "Start server %1" (systimef "%c"))
echo "*********************************************"


// -------------------------------------
// SERVER SCRIPTS
// -------------------------------------

// Core scripts
exec "scripts/stdlib.cfg"
exec "scripts/messages.cfg"
exec "scripts/permissions.cfg"
exec "scripts/db.cfg"



// -------------------------------------
// DATABASES CONFIGURATION
// -------------------------------------

db_register "sqlite3" "remod_sqlite3.db"  // register default database
db_init

//db_register "mysql" "remod:password@127.0.0.1:3306/remod" // register mysql database
//db_init

// db_register "sqlite3" "second.db" "seconddb_name"
// db_init "seconddb_name" 0



// -------------------------------------
// SERVER CONFIGURATION
// -------------------------------------
serverdesc rb11.butchers.su
servermotd  "Message of the day"
maxclients 24
serverbotlimit 8
publicserver 3	// 3 - auth server, mastermode 3 disabled for non admins (look docs/guide.html)
updatemaster 1
serverport 28785
adminpass xy*
masterpass yx	// password for gain master

// domain to use for local authkeys to the server so people can authenticate by "auth domain_here"
// must be a non-empty string that should be unique to your server to prevent clashes with other servers
// serverauth ""

// controls whether admin privs are necessary to record a demo
// when 1 requires admin (default)
// when 0 only requires master
// restrictdemos 1

// maximum number of demos the server will store
// maxdemos 5

// maximum size a demo is allowed to grow to in megabytes
// maxdemosize 16

// controls whether admin privs are necessary to pause a game
// when 1 requires admin (default)
// when 0 only requires master
// restrictpausegame 1

// whether or not to allow players to vote on maps not in the rotation
// lockmaprotation 0

// save and load permanent bans here
banfile "permbans.cfg"

// Rcon configuration
rconenable 1
rconport 27070
rconpass atata

// authkeys config
authfile "auth.cfg" // local file with authkeys
auth_db = "" // set empty if you dont want load authkeys from database with #syncauth else set to "default", not recomended to use with sqlite

// GeoIp database
geodb "GeoIP.dat"

// record demos after every game
autodemo 1

// save demos to disc
savedemo 1

// folder for save demos
demodir "demos" 

// folder for save and load maps (coopedit mode via #savemap)
mapdir "maps"

// intermission time 10 sec
imissiontime 10000

// time limit for every round (0 - dont change, in game #gtime)
roundtime 0

// shuffle teams (in game #persist)
persist 0 

// character before player command
commandchar "#"

// IRC bot configuration
verbose 1
ircfilter 1
ircaddrelay gamesurge irc.gamesurge.net 6667 rb10
ircaddchan gamesurge "#rb-servers"
// other irc commands: ircaddclient ircserv ircport ircnick ircbind ircpass ircauth ircconnect ircjoinchan ircpasschan ircconnect ircrelaychan ircfriendlychan

ffamaps = [
complex douze ot academy metl2 metl3 justice turbine hashi mbt2 fanatic_quake dock renegade curvy_castle nmp8 tartech aard3c
skrdm1 bvdm_01 outpost park tumwalk industry injustice mbt10 curvedm kalking1 hog2 kffa fragplaza collusion duel8 alithia island
frozen memento neondevastation alloy ruine DM_BS1 shinmei1 osiris sdm1 powerplant oasis metl4 ruby shindou dune gubo teahupoo
rm5 depot masdm orbe torment legazzo fury mbt9 refuge shadowed dirtndust force killfactory moonlite castle_trap orion ogrosupply
nucleus elegy shiva arbana simplicity pitch_black duel7 suburb roughinery stemple tejen pgdm deathtek hades corruption paradigm lostinspace
sauerstruck phosgene neonpanic akaritori konkuri-to katrez_d oddworld guacamole wake5 frostbyte thor aqueducts ksauer1 kmap5 thetowers darkdeath wdcd
]
capturemaps = [
urban_c nevil_c fb_capture collusion c_valley lostinspace fc3 face-capture nmp4 nmp8 hallo tempest monastery alithia hades fc4 relic
fc5 paradigm corruption asteroids ogrosupply reissen akroseum turbulence frostbyte c_egypt caribbean dust2 campo dirtndust damnation arabic spcr
nucleus evilness subterra snapper_rocks kopenhagen asgard mbt12 cwcastle nitro suburb haste valhalla abbey venice mercury core_transfer hidden 
forge eternal_valley tortuga core_refuge infamy capture_night river_c serenity xenon nmp9 ph-capture killcore3 twinforts duomo donya
]
ctfmaps = [
hallo flagstone tempest siberia reissen tejen shipwreck authentic urban_c bt_falls valhalla garden mbt1 autumn akroseum face-capture dust2
mach2 evilness turbulence l_ctf twinforts berlin_wall mbt12 europium abbey redemption damnation forge campo nitro infamy catch22 subterra
forgotten nucleus bad_moon snapper_rocks haste spcr asgard mill capture_night arbana hidden eternal_valley mercury kopenhagen tortuga mbt4 core_refuge core_transfer 
desecration recovery wdcd suburb xenon sacrifice
]

maprotationreset
maprotation "* !?ctf !?collect !?protect !?hold !?capture" $ffamaps
maprotation "?capture ?hold" $capturemaps
maprotation "?ctf ?protect ?collect" $ctfmaps

teamkillkickreset
teamkillkick "* !?capture" 7 30
teamkillkick "?capture" 10 30

// -------------------------------------
// SCRIPTS CONFIGS BELLOW
// -------------------------------------

// List of forbiden modes (example: disalowmodes = "0 1 2 10 13", empty string is allow all modes)
disallowmodes = ""

// Default mode and map, server set to this when empty
defmode = 0
defmap = "complex"

// Spectate player if he has modified map
modmap_spec = 1

// Flagrun configuration
flagrun_minmillis = 3000	// detect cheaters who score flags too fast
flagrun_show_messages = 1	// show flagrun messages
flagrun_db = "default"	// which database should we use for flagrun results. no value = no database use

//Spy module
spy_db = "default"

execdir "scripts/commands"
execdir "scripts/irccommands"
execdir "scripts/other"
