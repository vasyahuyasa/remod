exec stdlib.cfg
exec stats.cfg

serverdesc RB3.butchers.su

verbose 0
ircfilter 1
//ircaddclient
//ircaddrelay gamesurge irc.gamesurge.net 6667 RB3
//ircserv
//ircport
//ircnick
//ircbind
//ircpass
//ircauth
//ircconnect
ircaddchan gamesurge "#rb-servers"
//ircjoinchan
//ircpasschan
ircrelaychan gamesurge "#rb-servers" 0
ircfriendlychan gamesurge "#rb-servers" "#rb-servers"
//ircconnect

irc_onconnect = [ ircsay (ircblue (format "CONNECT %1(%2) (%3)" (getname $arg1) $arg1 (getcountry (getip $arg1)))) ]
srv_onconnect = [ say (format "^f0%1 ^f7is connected from ^f0%2" (getname $arg1) (getcountry (getip $arg1))) ]
log_onconnect = [ echo (format "CONNECT %1(%2)(%3)" (getname $arg1) $arg1 (getip $arg1) ) ]
addhandler onconnect irc_onconnect
addhandler onconnect srv_onconnect
addhandler onconnect log_onconnect

irc_ondisc = [ ircsay (ircblue (format "DISCONNECT %1(%2)" (getname $arg1) $arg1)) ]
log_ondisc = [ echo (format "DISCONNECT %1(%2)" (getname $arg1) $arg1) ]
addhandler ondisconnect irc_ondisc
addhandler ondisconnect log_ondisc

irc_text = [ ircsay (format "%1(%2): %3" (getname $arg1) $arg1 $arg2) ]
log_text = [ echo (format "%1(%2): %3" (getname $arg1) $arg1 $arg2) ]
addhandler ontext irc_text
addhandler ontext log_text

irc_mapstart = [ ircsay (ircgreen (format "MAP CHANGED: %1 %2" (modetostr (getmode)) (getmap))) ]
addhandler onmapstart irc_mapstart

svr_onspec = [ say (format "%1 spectator status is %2" $arg1 $arg2) ]
addhandler onspectator svr_onspec

svr_onmaster = [ say (format "%1 master status is %2(pass: %3 authname: %4)" (getname $arg1) $arg2 $arg3 $arg4) ]
addhandler onmaster svr_onmaster

svr_oncommand = [ say (format "%1 #command: %2" $arg1 $arg2) ]
addhandler oncommand svr_oncommand

